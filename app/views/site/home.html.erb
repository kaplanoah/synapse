<div class="home">

<h1 style="margin-bottom:-10px;"></h1>

	<div class='span1'></div>
	<div class='span11'>
		<div id="views_left">
			<div class='view' id='view_coronal'>
				<canvas height='220' id='cor_canvas' width='220'></canvas>
				<div class='slider nav-slider-vertical' id='nav-yaxis'></div>
			</div>
			<div class='view' id='view_axial'>
				<canvas height='264' id='axial_canvas' width='220'></canvas>
				<div class='slider nav-slider-vertical' id='nav-zaxis'></div>
			</div>
		</div>
		<div id="views_right">
			<div class='view' id='view_sagittal'>
				<canvas height='220' id='sag_canvas' width='264'></canvas>
				<div class='slider nav-slider-horizontal' id='nav-xaxis'></div>
			</div>
			<div id="data_panel">
				<div class="data_display_row">
					<div class="data_label">Coordinates:</div>
					<div id="data_current_coords"></div>
				</div>
			</div>
		</div>
	</div>

<%= form_for :search, url: user_search_path do |s| %>

	<%= s.number_field :x, id: "x" %>

	<%= s.number_field :y, id: "y" %>

	<%= s.number_field :z, id: "z" %> <br>

	<%= s.label :x, class: "coordinatelabel" %>
	<%= s.label :y, class: "coordinatelabel" %>
	<%= s.label :z, class: "coordinatelabel" %>  <br><br>

	<span class="voxels" id="jstester"><%= s.label "Include coordinates +/-" %>	
<div class="styled-select">
	<%= select_tag(:range, options_for_select([['0', 0], ['1', 1], ['2', 2], ['3', 3]]), id: "range") %></div></span> <br><br>

	<%= s.submit 'Search', class: "btn btn-default" %>

<% end %>

</div>

<script>

  $( "#x" ).val( 0 );
  $( "#y" ).val( 0 );
  $( "#z" ).val( 0 );
  $( "#range" ).val( 0 );

$(document).ready(function(){
    $('div#data_current_coords').bind('DOMNodeInserted DOMSubtreeModified DOMNodeRemoved', function(event) {
		var update = $( "div#data_current_coords" ).html();
		var all = update.split(',');
		var x = all[0].replace('[', '');
		var num = parseInt(x);
		$( "#x" ).val( num );

		var x = all[1].replace(' ', '');
		var num = parseInt(x);
		$( "#y" ).val( num );

		var x = all[2].replace(' ', '');
		x = x.replace(']', '');
		var num = parseInt(x);
		$( "#z" ).val( num );
    })
})


// $( "div.slider" ).click(function() {
//   var update = $( "div#data_current_coords" ).html();
//   var all = update.split(',');
//   var x = all[0].replace('[', '');
//   var num = parseInt(x);
//   $( "#x" ).val( num );

//   var x = all[1].replace(' ', '');
//   var num = parseInt(x);
//   $( "#y" ).val( num );

//   var x = all[2].replace(' ', '');
//   x = x.replace(']', '');
//   var num = parseInt(x);
//   $( "#z" ).val( num );
// });

// $( "canvas#sag_canvas" ).click(function() {
//   var update = $( "div#data_current_coords" ).html();
//   var all = update.split(',');
//   var x = all[0].replace('[', '');
//   var num = parseInt(x);
//   $( "#x" ).val( num );

//   var x = all[1].replace(' ', '');
//   var num = parseInt(x);
//   $( "#y" ).val( num );

//   var x = all[2].replace(' ', '');
//   x = x.replace(']', '');
//   var num = parseInt(x);
//   $( "#z" ).val( num );
// });

// $( "canvas#axial_canvas" ).click(function() {
//   var update = $( "div#data_current_coords" ).html();
//   var all = update.split(',');
//   var x = all[0].replace('[', '');
//   var num = parseInt(x);
//   $( "#x" ).val( num );

//   var x = all[1].replace(' ', '');
//   var num = parseInt(x);
//   $( "#y" ).val( num );

//   var x = all[2].replace(' ', '');
//   x = x.replace(']', '');
//   var num = parseInt(x);
//   $( "#z" ).val( num );
// });

// $( "canvas#cor_canvas" ).click(function() {
//   var update = $( "div#data_current_coords" ).html();
//   var all = update.split(',');
//   var x = all[0].replace('[', '');
//   var num = parseInt(x);
//   $( "#x" ).val( num );

//   var x = all[1].replace(' ', '');
//   var num = parseInt(x);
//   $( "#y" ).val( num );

//   var x = all[2].replace(' ', '');
//   x = x.replace(']', '');
//   var num = parseInt(x);
//   $( "#z" ).val( num );
// });

</script>
